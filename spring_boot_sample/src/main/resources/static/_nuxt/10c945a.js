(window.webpackJsonp=window.webpackJsonp||[]).push([[5,22],{1130:function(t,e,n){"use strict";var o=n(19),r=n(2),l=(n(22),n(58),n(21),n(11),n(23),n(467),n(42),n(98),n(39),n(173)),c={components:{SocialFollowButton:n(1479).a},props:{item:{type:Object},showFollowingButton:{type:Boolean,default:!1}},computed:{isMyProfile:function(){return this.$auth.user&&this.$auth.user.id===1*this.item.userId}},methods:{updateUserFollowingState:function(t,e){this.$emit("updateUserFollowingState",t,e)},moveToUserPage:function(){this.$router.push("/social/users/".concat(this.item.username))}}},m=(n(2339),n(64)),d=Object(m.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"social_user_state"},[n("a",{staticClass:"user_state_box",attrs:{href:"#"}},[n("div",{staticClass:"profile_img_box",on:{click:function(e){return e.preventDefault(),t.moveToUserPage.apply(null,arguments)}}},[n("img",{staticClass:"profile_img",attrs:{src:t.item.imgURL,alt:"KREAM 프로필 이미지"}})]),n("div",{staticClass:"profile_info",on:{click:function(e){return e.preventDefault(),t.moveToUserPage.apply(null,arguments)}}},[n("p",{class:["user_name",{is_official:t.item.isVerified}],attrs:{href:"#"}},[t._v(t._s(t.item.id))]),n("p",{staticClass:"upload_time"},[t._v(t._s(t.item.time))])]),t.showFollowingButton&&!t.isMyProfile?n("SocialFollowButton",{attrs:{"is-following":t.item.isFollowing,"user-id":t.item.userId,"is-followed-by":t.item.isFollowedBy,size:"small"},on:{updateUserFollowingState:t.updateUserFollowingState}}):t._e()],1)])}),[],!1,null,"271ab2d7",null),h=d.exports,f={props:{images:{type:Array,default:function(){return[]}}},data:function(){return{settings:{dots:!0,infinite:!1,arrows:!0,speed:400,slidesToScroll:1,slidesToShow:1,draggable:!0},positionY:0,currentSlideIndex:1}},computed:{showArrows:function(){return!this.$isMobile(this.$mq)}},methods:{didStartTouch:function(t){this.positionY=t.touches[0].clientY},didEndTouch:function(t){this.positionY=0},didTouch:function(t){var e=t.targetTouches[0].clientY;Math.abs(e-this.positionY)>30&&t.stopPropagation(),this.positionY=e},onAfterChangeCarousel:function(t){this.currentSlideIndex=t+1}}},y=(n(2340),Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"social_image_box"},[n("div",{staticClass:"social_slide"},[n("VueSlickCarousel",t._b({ref:"carousel",attrs:{arrows:t.showArrows},on:{afterChange:t.onAfterChangeCarousel},scopedSlots:t._u([{key:"prevArrow",fn:function(t){return[n("div",{staticClass:"custom-arrow"})]}},{key:"nextArrow",fn:function(t){return[n("div",{staticClass:"custom-arrow"})]}}])},"VueSlickCarousel",t.settings,!1),t._l(t.images,(function(e,o){return n("div",{key:o,staticClass:"slide_content"},[n("div",{staticClass:"slide_item",on:{touchstart:t.didStartTouch,touchend:t.didEndTouch,touchmove:t.didTouch}},[n("div",{staticClass:"img_box"},[n("img",{staticClass:"social_img",attrs:{oncontextmenu:"return false",ondragstart:"return false",onselectstart:"return false",src:e.url,alt:"소셜이미지"}})])])])})),0),t.images.length>1?n("div",{staticClass:"img_count"},[n("span",{staticClass:"current"},[t._v(t._s(t.currentSlideIndex))]),n("span",[t._v("/")]),n("span",{staticClass:"total"},[t._v(t._s(t.images.length))])]):t._e()],1)])}),[],!1,null,"ff5c1306",null).exports),C=(n(218),n(126),n(100),n(1147)),_=n(834),v=n(61),w={mixins:[C.a],props:{reply:{type:Boolean,default:!1},item:{type:Object},pastReplyMore:{type:Boolean,default:!1},replyMore:{type:Boolean,default:!1},replyParentId:{type:Number,default:-1},showActionButton:{type:Boolean,default:!0},postUserId:{type:Number,default:-1}},computed:{convertedText:function(){return Object(_.b)(this.item.text,this.item.lookup)},isMyPost:function(){return this.$auth.loggedIn&&this.$auth.user&&this.$auth.user.id===this.postUserId},isMyComment:function(){return this.$auth.loggedIn&&this.$auth.user&&this.$auth.user.id===1*this.item.socialUser.userId}},methods:{deleteComment:function(){var t=this;Object(v.a)({content:"삭제하시겠습니까?",handleConfirm:function(){return t.$emit("deleteComment",t.item.id,t.reply,t.replyParentId)},cancelButtonEnabled:!0})},writeReply:function(){this.$emit("writeReplyOn",this.replyParentId,"@".concat(this.item.socialUser.id))},showLiker:function(){history.replaceState({},null,this.$route.fullPath+"&like=true"),this.$emit("showCommentLiker",this.item.id)}}},k=(n(2341),Object(m.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["comment_unit",{reply:t.reply}]},[n("div",{staticClass:"comment_box"},[n("a",{staticClass:"profile_link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$router.push("/social/users/"+t.item.socialUser.username)}}},[n("img",{staticClass:"profile_img",attrs:{src:t.item.socialUser.imgURL,alt:"KREAM 프로필 이미지"}})]),n("div",{staticClass:"comment_detail"},[n("div",{staticClass:"main"},[n("span",{class:["user_name",{is_official:t.item.socialUser.isVerified}]},[t._v(t._s(t.item.socialUser.id))]),n("span",{staticClass:"comment_txt",domProps:{innerHTML:t._s(t.$changeHtml(t.convertedText))}})]),n("div",{staticClass:"sub"},[n("span",{staticClass:"upload_time"},[t._v(t._s(t.item.dateCreated))]),t.showActionButton&&t.item.likeCount?n("span",{staticClass:"dot"},[t._v(" • ")]):t._e(),t.showActionButton&&t.item.likeCount?n("a",{staticClass:"like_count",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showLiker.apply(null,arguments)}}},[t._v(" 공감 "),n("strong",[t._v(t._s(t.item.likeCount))]),t._v("개 ")]):t._e(),t.showActionButton?n("a",{staticClass:"writing_reply",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.writeReply.apply(null,arguments)}}},[t._v(" 답글쓰기 ")]):t._e(),t.showActionButton&&(t.isMyPost||t.isMyComment)?n("a",{staticClass:"delete",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.deleteComment.apply(null,arguments)}}},[t._v(t._s("삭제"))]):t._e()])]),n("a",{class:["btn_like",{like_on:t.item.isLiked}],attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.likeComment.apply(null,arguments)}}},[n("svg-icon",{class:t.iconSmLike,attrs:{name:t.iconSmLike}})],1)]),t._t("more_past_reply"),t._t("reply")],2)}),[],!1,null,"3d286a46",null)),$=k.exports,x={components:{SocialCommentUnit:$},mixins:[C.a],props:{post:{type:Object,default:function(){}},slicedComments:{type:Array,default:function(){return[]}},commentCount:{type:Number}},methods:{showCommentLiker:function(t){this.$emit("showCommentLiker",t)},likeComment:function(t){var e=t.id,n=t.isLiked,o=t.count,r=t.isReply;this.$emit("likeComment",{id:e,isLiked:n,count:o,isReply:r})}}},S=(n(2342),Object(m.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"social_comment"},[n("div",{staticClass:"comment_area"},[n("a",{staticClass:"comment_count",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.clickComment.apply(null,arguments)}}},[t._v(" 댓글 "),n("strong",[t._v(t._s(t.$seperateThousand(t.commentCount)))]),t._v("개 ")]),n("div",{staticClass:"comment_list"},[t._l(t.slicedComments,(function(e,o){return n("SocialCommentUnit",{key:o,attrs:{id:e.id,"post-user-id":t.post.socialUser?parseInt(t.post.socialUser.userId):-1,"show-action-button":!1,item:e},on:{showCommentLiker:t.showCommentLiker,like:t.likeComment}})})),t.commentCount>2?n("a",{staticClass:"btn_more",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.clickComment.apply(null,arguments)}}},[t._v("댓글 더 보기...")]):t._e()],2)])])}),[],!1,null,"1eb891e0",null)),L=S.exports,O={mixins:[C.a]},R=(n(2343),Object(m.a)(O,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"social_btn"},[n("div",{staticClass:"btn_bind"},[n("a",{class:["btn","like",{like_on:t.isLiked}],attrs:{href:"#","aria-label":"좋아요"},on:{click:function(e){return e.preventDefault(),t.likePost.apply(null,arguments)}}},[n("svg-icon",{class:t.iconPostLike,attrs:{name:t.iconPostLike}})],1),n("a",{staticClass:"btn comment",attrs:{href:"#","aria-label":"댓글"},on:{click:function(e){return e.preventDefault(),t.clickComment.apply(null,arguments)}}},[n("svg-icon",{staticClass:"social-comment",attrs:{name:"social-comment"}})],1)]),n("a",{staticClass:"btn share",attrs:{href:"#","aria-label":"공유"},on:{click:function(e){return e.preventDefault(),t.$emit("showLayerSocialShare")}}},[n("svg-icon",{staticClass:"social-share",attrs:{name:"social-share"}})],1)])}),[],!1,null,"66774c6c",null)),U=R.exports,I=n(1622),j=n(932),E=n(54),T=n(799),M=n(41),P={components:{SocialUserFollowList:I.a,SocialFeedsEmpty:j.a},props:{showLayer:{type:Boolean,defalut:!1},id:{type:Number,default:-1},type:{type:String,default:"posts"}},data:function(){return{likers:[],total:0,nextCursor:1}},fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,l,c,m,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(T.m)("/api/s/".concat(t.type,"/").concat(t.id,"/likers/?cursor=").concat(t.nextCursor));case 3:r=e.sent,l=r.data,c=l.items,m=l.total,d=l.next_cursor,t.likers=[].concat(Object(o.a)(t.likers),Object(o.a)(c.map((function(t){return new E.n(t)})))),t.total=m,t.nextCursor=d,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),404===(null===(n=null===e.t0||void 0===e.t0?void 0:e.t0.response)||void 0===n?void 0:n.status)&&(t.$toast({content:"찾을 수 없는 목록입니다.",type:M.ToastType.error}),t.closeLayer());case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},mounted:function(){var t=this;window.onpopstate=function(e){e.state&&t.closeLayer()}},methods:{closeLayer:function(){this.$emit("close")},followUser:function(t,e){this.likers=this.likers.map((function(n){return n.userId===t?Object.assign({},n,{isFollowing:e}):n}))}}},B=(n(2344),Object(m.a)(P,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BaseLayer",{staticClass:"layer_social_user_list",attrs:{"show-layer":t.showLayer},on:{close:t.closeLayer}},[n("h2",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"title",attrs:{slot:"header"},slot:"header"},[t._v(" "+t._s(t.$t(t.$m.socialLike))),n("span",{staticClass:"count"},[t._v(t._s(t.total))])]),n("template",{slot:"content"},[n("SocialUserFollowList",{attrs:{list:t.likers,"has-next":!!t.nextCursor},on:{showMore:t.$fetch,updateUserFollowingState:t.followUser}})],1),n("a",{staticClass:"btn_layer_close",attrs:{slot:"btnClose"},on:{click:function(e){return e.preventDefault(),t.closeLayer.apply(null,arguments)}},slot:"btnClose"},[n("svg-icon",{staticClass:"ico-close",attrs:{name:"ico-close"}})],1)],2)}),[],!1,null,"00accbee",null)),F=B.exports;installComponents(B,{BaseLayer:n(462).default});var A={components:{LayerReactionUsers:F},props:{id:{type:Number},likeCount:{type:Number},commentCount:{type:Number},likers:{type:Array,default:function(){return[]}}},data:function(){return{showLayerSocialUserList:!1}},computed:{likerImages:function(){return this.likers.map((function(t){return t.profile_image_url||"/images/account_img_default.png"})).slice(0,3).reverse()}},mounted:function(){var t=this;this.$nuxt.$on("showLayerSocialLike",(function(e){t.showLayerSocialUserList!==e&&(t.showLayerSocialUserList=e)}))},beforeDestroy:function(){this.$nuxt.$off("showLayerSocialLike")},methods:{clickComment:function(){this.$loggedIn(this.$auth)?this.$emit("showLayerComments"):this.$router.push("/login")},clickLike:function(){var t,e;if(this.$loggedIn(this.$auth)){if(this.showLayerSocialUserList=!0,this.$isMobile(this.$mq)){var n=null===(e=null===(t=Object.entries(this.$route.query))||void 0===t?void 0:t.map((function(t){return t.join("=")})))||void 0===e?void 0:e.join("&");history.pushState({},null,this.$route.path+"?like=true".concat(n?"&":"")+n)}}else this.$router.push("/login")}}},D=(n(2345),Object(m.a)(A,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"social_count"},[t.likeCount&&t.likeCount>0&&t.likerImages.length>0?n("div",{staticClass:"like_profile_group"},t._l(t.likerImages,(function(t,e){return n("img",{key:e,staticClass:"like_profile_img",attrs:{src:t,alt:"KREAM 프로필 이미지"}})})),0):t._e(),t.likeCount&&t.likeCount>0?n("a",{staticClass:"like_count",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.clickLike.apply(null,arguments)}}},[t._v(" 공감 "),n("strong",[t._v(t._s(t.$seperateThousand(t.likeCount)))]),t._v("개 ")]):t._e(),t.$isMobile(t.$mq)&&t.commentCount>0?n("a",{staticClass:"comment_count",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.clickComment.apply(null,arguments)}}},[t._v(" 댓글 "),n("strong",[t._v(t._s(t.$seperateThousand(t.commentCount)))]),t._v("개 ")]):t._e(),t.showLayerSocialUserList?n("LayerReactionUsers",{attrs:{id:t.id,"show-layer":t.showLayerSocialUserList,type:"posts"},on:{close:function(e){t.showLayerSocialUserList=!1}}}):t._e()],1)}),[],!1,null,"8cbe1490",null)),N=D.exports,z=(n(26),n(86),{props:{text:{type:String,default:""},datePublished:{type:String,default:""},lookup:{type:Array,default:function(){return[]}}},data:function(){return{openText:!1,maxTextLength:{sm:40,mo:80,md:120,lg:120}}},computed:{omittedOriginText:function(){return this.openText?this.text:this.text.slice(0,this.maxTextLength[this.$mq]).split("\n")[0]},showMoreBtn:function(){return this.omittedOriginText.length!==this.text.length},convertedText:function(){return Object(_.b)(this.omittedOriginText,this.lookup)}},methods:{textOpen:function(){this.openText=!this.openText,this.openText&&(this.txt="")}}}),H=(n(2346),Object(m.a)(z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["social_text",{open:t.openText}]},[n("span",{staticClass:"text_link",attrs:{href:"#"}},[n("span",{staticClass:"text",domProps:{innerHTML:t._s(t.$changeHtml(t.convertedText))}}),t.showMoreBtn?n("span",[t._v("...  "),n("a",{staticClass:"view_more",on:{click:function(e){return e.preventDefault(),t.textOpen.apply(null,arguments)}}},[t._v("더보기")])]):t._e()]),t.datePublished&&t.$isMobile(t.$mq)?n("p",{staticClass:"upload_time"},[t._v(t._s(t.datePublished))]):t._e()])}),[],!1,null,"1834f83a",null)),W=H.exports,V=(n(123),n(51),n(466),n(10)),K={props:{item:{type:Object,default:function(){return{}}}},computed:{imageUrl:function(){return this.$resizeImage(Object(V.m)(this.item.profile_image_url),"sl")},isVerified:function(){return this.item.is_verified},title:function(){return Object(V.n)(this.item.username)},description:function(){return this.item.display_name}},methods:{click:function(){this.$emit("click",this.item.username)}}},Y=(n(2347),Object(m.a)(K,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"suggest_user_item"},[n("a",{staticClass:"user_link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.click.apply(null,arguments)}}},[n("div",{staticClass:"profile_img_box"},[n("img",{staticClass:"profile_img",attrs:{src:t.imageUrl,alt:"KREAM 프로필 이미지"}})]),n("div",{staticClass:"user_info"},[n("span",{class:["info_title",{is_official:t.isVerified}]},[t._v(t._s(t.title))]),n("span",{staticClass:"info_description"},[t._v(t._s(t.description))])])])])}),[],!1,null,"9c988d04",null)),G=Y.exports,Z={props:{item:{type:Object,default:function(){return{}}}},methods:{click:function(){this.$emit("click",this.item.tag)}}},X=(n(2348),Object(m.a)(Z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"suggest_tag_item"},[n("a",{staticClass:"tag_link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.click.apply(null,arguments)}}},[t._v(" "+t._s(t.item.tag)+" ")])])}),[],!1,null,"23e1c4cc",null)),J=X.exports,Q={props:{item:{type:Object,default:function(){return{}}}},computed:{component:function(){switch(this.item.object_type){case E.l.USER:return G;case E.l.TAG:return J;default:return null}}},methods:{click:function(t){this.$emit("select",t)}}},tt={components:{SocialSuggestElement:Object(m.a)(Q,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.component?n(t.component,{tag:"component",attrs:{item:t.item},on:{click:t.click}}):t._e()}),[],!1,null,null,null).exports},props:{items:{type:Array,default:function(){return[]}},hasNext:{type:Boolean,default:!1}},data:function(){return{loading:!1}},watch:{items:function(){this.loading=!1}},mounted:function(){var t=this.$refs.list;t&&t.addEventListener("scroll",this.scroll)},beforeDestroy:function(){this.$refs.list.removeEventListener("scroll",this.scroll)},methods:{select:function(t){this.$emit("select",t)},scroll:function(){var t=this,e=this.$refs.list;e.scrollTop+e.clientHeight>=e.scrollHeight&&!this.loading&&this.hasNext&&(this.loading=!0,this.$nextTick((function(){t.$emit("showMore")})))}}},et=(n(2349),Object(m.a)(tt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{ref:"list",staticClass:"social_suggests"},t._l(t.items,(function(e,o){return n("SocialSuggestElement",{key:o,attrs:{item:e},on:{select:t.select}})})),1)}),[],!1,null,"573055b0",null).exports),st=n(305),nt={components:{SocialSuggests:et},mixins:[n(818).a],props:{parentId:{type:Number,default:-1},defaultText:{type:String,default:""},isReply:{type:Boolean,default:!1}},data:function(){return{text:"",startWithSymbol:!1,nextCursor:"1",suggests:[],inputHeight:41,suggestStyle:""}},computed:{userProfileImageURL:function(){return this.$resizeImage(Object(V.m)(this.$auth.user.profile_image_url),"sl")},keyword:function(){return this.$lodash.last(this.text.split(/(?=[@#\s])/g).filter((function(t){return t.startsWith("#")||t.startsWith("@")})))},convertedText:function(){return Object(_.b)(this.$lodash.escape(this.text),null,!1)},showRegisterButton:function(){return this.text.length>0}},watch:{defaultText:function(){this.text=this.defaultText+" ",this.focus()}},created:function(){this.fetchSuggest=this.$lodash.debounce(this.fetchSuggest,300),this.loadSuggestMore=this.$lodash.debounce(this.loadSuggestMore,300)},methods:{checkSymbol:function(t){"@"===t.key||"#"===t.key?(this.startWithSymbol=!0,this.suggests=[]):" "===t.key?(this.startWithSymbol=!1,this.suggests=[]):t.isComposing||"Enter"!==t.key||t.shiftKey||(this.writeComment(),t.preventDefault())},updateInput:function(t){""===this.text&&(this.startWithSymbol=!1),this.startWithSymbol&&this.fetchSuggest(),this.adjustInputHeight()},adjustInputHeight:function(){var input=this.$refs.input;this.inputHeight=input.$el.offsetHeight-1>41?input.$el.offsetHeight-1:41,this.$isMobile(this.$mq)&&(this.suggestStyle="max-height: calc(100% - ".concat(this.inputHeight+60+20,"px)"))},fetchSuggest:function(){var t=this;Object(T.j)({keyword:this.keyword}).then((function(e){var n=e.items,o=(e.total,e.nextCursor);t.suggests=n,t.nextCursor=o}))},loadSuggestMore:function(){var t=this;Object(T.j)({keyword:this.keyword,cursor:this.nextCursor}).then((function(e){var n=e.items,r=e.nextCursor;t.suggests=[].concat(Object(o.a)(t.suggests),Object(o.a)(n)),t.nextCursor=r}))},selectSuggest:function(t){var e=this,n=this.text.lastIndexOf(this.keyword);this.text=this.text.substring(0,n)+t+this.text.substring(n+this.keyword.length+1)+" ",this.startWithSymbol=!1,this.suggests=[],this.focus(),this.$nextTick((function(){e.adjustInputHeight()}))},writeComment:function(){var t=this.text.replaceAll(/\n{3,}/gm,"\n");this.$emit(this.isReply?"writeReply":"writeComment",this.parentId,t),this.clear()},focus:function(){var t=this;this.$nextTick((function(){t.$refs.input&&Object(st.c)(t.$refs.input.$el)}))},reset:function(){this.$emit("writeCommentOn"),this.inputHeight=41},clear:function(){this.reset(),this.text="",this.startWithSymbol=!1}}},it=(n(2350),Object(m.a)(nt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"social_comment_input_box"},[t.isReply?n("div",{staticClass:"reply_alert"},[n("span",{staticClass:"alert_txt"},[t._v(t._s(t.defaultText)+"님에게 답글 쓰기")]),n("a",{staticClass:"btn_delete",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.reset.apply(null,arguments)}}},[n("svg-icon",{staticClass:"ico-delete-circle",attrs:{name:"ico-delete-circle"}})],1)]):t._e(),t.isNotSupportedBrowser?t._e():n("div",{staticClass:"social_comment_input"},[n("div",{staticClass:"comment_input"},[n("a",{staticClass:"profile_link",attrs:{href:"#"}},[n("img",{staticClass:"profile_img",attrs:{src:t.userProfileImageURL,alt:"KREAM 프로필 이미지"}})]),n("div",{staticClass:"wrap_input",style:"height:"+t.inputHeight+"px"},[n("contenteditable",{ref:"input",staticClass:"input_txt origin",attrs:{tag:"div",contenteditable:!0},on:{keydown:t.checkSymbol,keyup:t.updateInput},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),n("div",{staticClass:"input_txt dummy",attrs:{placeholder:"댓글을 남기세요…"},domProps:{innerHTML:t._s(t.convertedText)}}),n("a",{directives:[{name:"show",rawName:"v-show",value:t.showRegisterButton,expression:"showRegisterButton"}],staticClass:"btn_regist",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.writeComment.apply(null,arguments)}}},[t._v(" 등록 ")])],1)]),n("SocialSuggests",{directives:[{name:"show",rawName:"v-show",value:t.startWithSymbol,expression:"startWithSymbol"}],style:t.suggestStyle,attrs:{items:t.suggests,"has-next":!!t.nextCursor},on:{select:t.selectSuggest,showMore:t.loadSuggestMore}})],1)])}),[],!1,null,"4ae41fe7",null)),ot={components:{SocialCommentUnit:$,SocialCommentInput:it.exports},props:{nextCursor:{type:String,default:null},layerOpenSocialComment:{type:Boolean,defalut:!1},comments:{type:Array},post:{type:Object,default:function(){return{}}}},data:function(){return{useReply:!1,replyMention:"",commentParentId:this.post.id}},beforeDestroy:function(){this.socialCommentClose()},methods:{socialCommentClose:function(){this.$emit("closeLayerSocialComment")},loadPastReplyComments:function(t,cursor){this.$emit("loadPastReplyComments",t,cursor)},loadMoreComments:function(t,cursor){this.$emit("loadMoreComments",t,cursor)},writeComment:function(t,text){this.$emit("writeComment",t,text)},writeReply:function(t,text){this.$emit("writeReply",t,text)},writeReplyOn:function(t,e){this.useReply=!0,this.replyMention=e,this.commentParentId=t},writeCommentOn:function(){this.useReply=!1,this.replyMention="",this.commentParentId=this.post.id},deleteComment:function(t,e,n){this.$emit("deleteComment",t,e,n)},showCommentLiker:function(t){this.$emit("showCommentLiker",t)},likeComment:function(t){var e=t.id,n=t.isLiked,o=t.count,r=t.isReply;this.$emit("likeComment",{id:e,isLiked:n,count:o,isReply:r})}}},at=(n(2351),Object(m.a)(ot,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BaseLayer",{staticClass:"layer_social_comment",attrs:{"show-layer":t.layerOpenSocialComment},on:{close:t.socialCommentClose}},[n("h2",{staticClass:"title",attrs:{slot:"header"},slot:"header"},[t._v("댓글")]),n("template",{slot:"content"},[n("div",{staticClass:"comment_top"},[n("div",{staticClass:"comment_top_scroll"},[n("SocialCommentUnit",{attrs:{item:t.post,"show-action-button":!1,"post-user-id":t.post.socialUser?parseInt(t.post.socialUser.userId):-1}})],1)]),n("mq-layout",{attrs:{mq:["md","lg"]}},[n("SocialCommentInput",{attrs:{"parent-id":t.commentParentId,"is-reply":t.useReply,"default-text":t.replyMention},on:{writeCommentOn:t.writeCommentOn,writeComment:t.writeComment,writeReply:t.writeReply}})],1),n("div",{staticClass:"comment_content"},[n("div",{staticClass:"comment_group"},[t._l(t.comments,(function(e,o){return n("SocialCommentUnit",{key:o,attrs:{id:e.id,"post-user-id":t.post.socialUser?parseInt(t.post.socialUser.userId):-1,item:e,"reply-parent-id":e.id},on:{like:t.likeComment,writeReplyOn:t.writeReplyOn,deleteComment:t.deleteComment,showCommentLiker:t.showCommentLiker}},[e.commentCount>e.comments.length?n("a",{staticClass:"btn_past_reply_more",attrs:{slot:"more_past_reply",href:"#"},on:{click:function(n){return n.preventDefault(),t.loadPastReplyComments(e.id,e.comments[0]?e.comments[0].id:e.replyId)}},slot:"more_past_reply"},[n("span",{staticClass:"btn_past_reply_more_text"},[n("svg-icon",{staticClass:"social-reply-more",attrs:{name:"social-reply-more"}}),n("span",[t._v("이전 답글")]),n("strong",[t._v(t._s(e.commentCount-e.comments.length))]),n("span",[t._v("개 보기")])],1)]):t._e(),n("div",{staticClass:"reply_bind",attrs:{slot:"reply"},slot:"reply"},t._l(e.comments,(function(o,r){return n("SocialCommentUnit",{key:r,attrs:{id:o.id,"post-user-id":t.post.socialUser?parseInt(t.post.socialUser.userId):-1,item:o,reply:!0,"reply-parent-id":e.id},on:{like:t.likeComment,writeReplyOn:t.writeReplyOn,deleteComment:t.deleteComment,showCommentLiker:t.showCommentLiker}})})),1)])})),t.nextCursor?n("a",{staticClass:"btn_more",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.loadMoreComments(t.post.id,t.comments[t.comments.length-1].id)}}},[t._v("댓글 더 보기...")]):t._e()],2)]),n("mq-layout",{attrs:{mq:["mo","sm"]}},[n("SocialCommentInput",{attrs:{"parent-id":t.commentParentId,"is-reply":t.useReply,"default-text":t.replyMention},on:{writeCommentOn:t.writeCommentOn,writeComment:t.writeComment,writeReply:t.writeReply}})],1)],1),n("a",{staticClass:"btn_layer_close",attrs:{slot:"btnClose"},on:{click:function(e){return e.preventDefault(),t.socialCommentClose.apply(null,arguments)}},slot:"btnClose"},[n("svg-icon",{staticClass:"ico-close",attrs:{name:"ico-close"}})],1)],2)}),[],!1,null,"e139a0b8",null)),lt=at.exports;installComponents(at,{BaseLayer:n(462).default});n(32),n(71);var ct={props:{title:{type:String,default:""},description:{type:String,default:""},url:{type:String,default:""},imageUrl:{type:String,default:""}},data:function(){return{icon:"",name:""}},methods:{share:function(){}}},ut=(n(2352),Object(m.a)(ct,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"share_link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.share.apply(null,arguments)}}},[n("div",{staticClass:"share_img"},[n("svg-icon",{class:"ico-share-"+t.icon,attrs:{name:"ico-share-"+t.icon}})],1),n("p",{staticClass:"share_name"},[t._v(t._s(t.name))])])}),[],!1,null,"79d93f7d",null)),mt=ut.exports,pt={extends:mt,data:function(){return{icon:"facebook",name:"페이스북"}},computed:{shareUrl:function(){return"https://www.facebook.com/sharer.php?u=".concat(encodeURIComponent(this.url))}},methods:{share:function(){this.$isMobile(this.$mq)?location.href=this.shareUrl:this.$createDesktopPopup(this.shareUrl,"shareFacebook",555,745)}}},ht=Object(m.a)(pt,undefined,undefined,!1,null,null,null).exports,ft={extends:mt,data:function(){return{icon:"twitter",name:"트위터"}},computed:{shareUrl:function(){return"https://twitter.com/intent/tweet?text=".concat(encodeURI(this.title),"&url=").concat(encodeURIComponent(this.url))}},methods:{share:function(){this.$isMobile(this.$mq)?location.href=this.shareUrl:this.$createDesktopPopup(this.shareUrl,"shareTwitter",640,499)}}},yt=Object(m.a)(ft,undefined,undefined,!1,null,null,null).exports,gt={extends:mt,data:function(){return{icon:"line",name:"라인",isScriptLoaded:!1}},head:function(){var t=this;return{script:[{src:"https://www.line-website.com/social-plugins/js/thirdparty/loader.min.js",defer:!0,callback:function(){t.isScriptLoaded=!0}}]}},computed:{shareUrl:function(){var t=encodeURIComponent(this.url);return"https://social-plugins.line.me/lineit/share?url=".concat(t)}},watch:{isScriptLoaded:function(){this.isScriptLoaded&&LineIt.loadButton()}},methods:{share:function(){this.$isMobile(this.$mq)?location.href=this.shareUrl:this.$createDesktopPopup(this.shareUrl,"shareLine",640,499)}}},Ct=Object(m.a)(gt,undefined,undefined,!1,null,null,null).exports,_t=(n(52),n(53),n(1145),n(295),{extends:mt,data:function(){return{icon:"kakao",name:"카카오톡",isScriptLoaded:!1,initialSuccess:!1}},head:function(){var t=this;return{script:[{src:"https://developers.kakao.com/sdk/js/kakao.js",defer:!0,callback:function(){t.isScriptLoaded=!0}}]}},computed:{templateId:function(){return this.$config.isDevelopPhase?53472:53467},path:function(){return new URL(this.url).pathname.replace(/^\//,"")}},watch:{isScriptLoaded:function(){this.isScriptLoaded&&(window.Kakao.init("8080b34d6ab02a4772a21042046109a9"),this.initialSuccess=window.Kakao.isInitialized())}},methods:{share:function(){this.initialSuccess?window.Kakao.Link.sendCustom({templateId:this.templateId,templateArgs:{title:this.title,description:this.description,imageUrl:this.imageUrl,path:this.path},installTalk:!0}):this.$toast({content:"죄송합니다. 잠시 후 다시 시도해주세요.",type:M.ToastType.error})}}}),vt=Object(m.a)(_t,undefined,undefined,!1,null,null,null).exports,wt={extends:mt,data:function(){return{icon:"mail",name:"이메일"}},methods:{share:function(){window.open("mailto:?subject=".concat(this.title,"&body=").concat(this.description,"%0D%0A%0D%0A").concat(this.url))}}},kt=Object(m.a)(wt,undefined,undefined,!1,null,null,null).exports,bt={extends:mt,data:function(){return{icon:"link",name:"링크 복사"}},methods:{share:function(){var input=document.createElement("input");document.body.appendChild(input),input.value=this.url,input.select(),document.execCommand("copy"),this.$toast({content:this.$t(this.$m.completeCopyUrl)}),document.body.removeChild(input)}}},$t=Object(m.a)(bt,undefined,undefined,!1,null,null,null).exports,xt={props:{layerOpenSocialShare:{type:Boolean,defalut:!1},title:{type:String,defalut:null},description:{type:String,defalut:null},url:{type:String,defalut:null},imageUrl:{type:String,defalut:null}},data:function(){return{shareList:[ht,yt,Ct,vt,kt,$t],metaInfo:[]}},computed:{sharedTitle:function(){var meta=this.findMetaObject("og:title");return this.title||meta.content},sharedDescription:function(){var meta=this.findMetaObject("og:description");return this.description||meta.content},sharedUrl:function(){var meta=this.findMetaObject("og:url");return this.url||meta.content},sharedImageUrl:function(){var meta=this.findMetaObject("og:image");return this.imageUrl||meta.content}},mounted:function(){var t=this.$meta().refresh();t.metaInfo&&(t=t.metaInfo),this.metaInfo=t.meta},methods:{socialShareClose:function(){this.$emit("closeLayerSocialShare")},findMetaObject:function(t){return this.metaInfo.find((function(meta){return meta.property===t}))||{}}}},St=(n(2353),Object(m.a)(xt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BaseLayer",{staticClass:"layer_social_share",attrs:{"show-layer":t.layerOpenSocialShare},on:{close:t.socialShareClose}},[n("h2",{staticClass:"title",attrs:{slot:"header"},slot:"header"},[t._v("공유")]),n("template",{slot:"content"},[n("ul",{staticClass:"share_list"},t._l(t.shareList,(function(e,o){return n("li",{key:o,staticClass:"share_item"},[n(e,{tag:"component",attrs:{title:t.sharedTitle,description:t.sharedDescription,url:t.sharedUrl,"image-url":t.sharedImageUrl}})],1)})),0)]),n("a",{staticClass:"btn_layer_close",attrs:{slot:"btnClose"},on:{click:function(e){return e.preventDefault(),t.socialShareClose.apply(null,arguments)}},slot:"btnClose"},[n("svg-icon",{staticClass:"ico-close",attrs:{name:"ico-close"}})],1)],2)}),[],!1,null,"317cac72",null)),Lt=St.exports;installComponents(St,{BaseLayer:n(462).default});var Ot={components:{SocialComment:L,SocialPostReactionButtons:U,SocialPostReactionCounts:N,SocialPostMainText:W,LayerSocialComment:lt,LayerSocialShare:Lt,LayerReactionUsers:F},props:{post:{type:Object,default:function(){return{}}},comments:{type:Array,default:function(){return[]}},slicedComments:{type:Array,default:function(){return[]}},commentCount:{type:Number,default:0},nextCursor:{type:String,default:null}},data:function(){return{likeCount:this.post.likeCount,showLayerSocialShare:!1,showLayerComments:!1,showLayerSocialUserList:!1,selectedCommentId:-1}},mounted:function(){var t=this;this.$nuxt.$on("showLayerSocialComment",(function(e){t.showLayerComments!==e&&(t.showLayerComments=e)}))},beforeDestroy:function(){this.$nuxt.$off("showLayerSocialComment")},methods:{likePost:function(t){t.isLiked;var e=t.count;this.likeCount=e},loadPastReplyComments:function(t,cursor){this.$emit("loadPastReplyComments",t,cursor)},loadMoreComments:function(t,cursor){this.$emit("loadMoreComments",t,cursor)},writeComment:function(t,text){this.$emit("writeComment",t,text)},writeReply:function(t,text){this.$emit("writeReply",t,text)},deleteComment:function(t,e,n){this.$emit("deleteComment",t,e,n)},likeComment:function(t){var e=t.id,n=t.isLiked,o=t.count,r=t.isReply;this.$emit("likeComment",{id:e,isLiked:n,count:o,isReply:r})},openLayerComments:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,o,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.$social.fetchCommentsOf(t.post.id);case 3:r=e.sent,t.$emit("loadComments",r),t.showLayerComments=!0,t.$isMobile(t.$mq)&&(c=null===(o=null===(n=Object.entries(t.$route.query))||void 0===n?void 0:n.map((function(t){return t.join("=")})))||void 0===o?void 0:o.join("&"),history.pushState({},null,t.$route.path+"?comment=true".concat(c?"&":"")+c)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t.$toast({content:"찾을 수 없는 게시물입니다.",type:M.ToastType.error}),t.showLayerComments=!1;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()},showCommentLiker:function(t){this.showLayerSocialUserList=!0,this.selectedCommentId=t}}},Rt=(n(2354),Object(m.a)(Ot,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"social_contents"},[n("SocialPostReactionButtons",{attrs:{id:t.post.id,item:t.post},on:{showLayerSocialShare:function(e){t.showLayerSocialShare=!0},showLayerComments:t.openLayerComments,like:t.likePost}}),n("SocialPostReactionCounts",{attrs:{id:t.post.id,"like-count":t.likeCount,"comment-count":t.post.commentCount,likers:t.post.likers},on:{showLayerComments:t.openLayerComments}}),t.post.text?n("SocialPostMainText",{attrs:{text:t.post.text,"date-published":t.post.datePublished,lookup:t.post.lookup}}):t._e(),t.comments&&t.comments.length>0&&t.$isPcUa(t.$ua)?n("SocialComment",{attrs:{post:t.post,"sliced-comments":t.slicedComments,"comment-count":t.commentCount},on:{deleteComment:t.deleteComment,showLayerComments:t.openLayerComments,showCommentLiker:t.showCommentLiker,likeComment:t.likeComment}}):t._e(),t.showLayerComments?n("LayerSocialComment",{attrs:{"layer-open-social-comment":t.showLayerComments,comments:t.comments,post:t.post,"next-cursor":t.nextCursor},on:{loadPastReplyComments:t.loadPastReplyComments,loadMoreComments:t.loadMoreComments,writeComment:t.writeComment,writeReply:t.writeReply,deleteComment:t.deleteComment,likeComment:t.likeComment,closeLayerSocialComment:function(e){t.showLayerComments=!1},showCommentLiker:t.showCommentLiker}}):t._e(),t.showLayerSocialShare?n("LayerSocialShare",{attrs:{title:t.post.socialUser.id+"님의 게시물 | KREAM",description:t.post.text,url:"https://kream.co.kr/social/posts/"+t.post.id,"image-url":t.post.images[0].url,"layer-open-social-share":t.showLayerSocialShare},on:{closeLayerSocialShare:function(e){t.showLayerSocialShare=!1}}}):t._e(),t.showLayerSocialUserList?n("LayerReactionUsers",{attrs:{id:t.selectedCommentId,"show-layer":t.showLayerSocialUserList,type:"comments"},on:{close:function(e){t.showLayerSocialUserList=!1}}}):t._e()],1)}),[],!1,null,"6d810e86",null).exports),Ut={components:{Product:n(804).a},props:{productData:{type:Array}},data:function(){return{prevOn:!1,nextOn:!0,arrPrev:"ico-arr-left-lightgray",arrNext:"ico-arr-right-lightgray",listActiveIndex:0,listLastIndex:this.productData.length%5==0?Math.floor(this.productData.length/5)-1:Math.floor(this.productData.length/5)}},computed:{availableSwipe:function(){return this.productData.length>(this.$isMobile(this.$mq)?1:5)},isActivePrevious:function(){return this.listActiveIndex<0},isActiveNext:function(){return this.listActiveIndex<this.listLastIndex&&-1*this.listActiveIndex<=this.listLastIndex-1}},methods:{clickArr:function(t){var e=this.listActiveIndex+t;e>0||-1*e>this.listLastIndex||(this.listActiveIndex=e)}}},It=(n(2355),{components:{SocialUserState:h,SocialImageBox:y,SocialContents:Rt,SocialTaggedProduct:Object(m.a)(Ut,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"social_product"},[n("mq-layout",{attrs:{mq:["md","lg"]}},[n("div",{staticClass:"product_title"},[n("span",{staticClass:"title_txt"},[t._v(t._s(t.$t(t.$m.taggedProduct))),n("strong",{staticClass:"num"},[t._v(t._s(t.productData.length))]),t._v("개")]),t.availableSwipe?n("div",{staticClass:"list_btn"},[n("a",{class:["btn_prev",{prev_on:t.prevOn}],attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.clickArr(1)}}},[n("svg-icon",{class:t.arrPrev,attrs:{name:"ico-arr-left"+(t.isActivePrevious?"":"-lightgray")}})],1),n("a",{class:["btn_next",{next_on:t.nextOn}],attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.clickArr(-1)}}},[n("svg-icon",{class:t.arrNext,attrs:{name:"ico-arr-right"+(t.isActiveNext?"":"-lightgray")}})],1)]):t._e()])]),n("div",{class:["product_list_area",{single_list:!t.availableSwipe}]},[n("ul",{staticClass:"product_list",style:{transform:"translateX("+740*t.listActiveIndex+"px)"}},t._l(t.productData,(function(e,o){return n("li",{key:o,staticClass:"product_item"},[n("a",{staticClass:"product_link",attrs:{href:e.link}},[n("Product",{attrs:{item:e,"image-size":"s"}}),n("div",{staticClass:"product_desc"},[n("p",{staticClass:"product_name"},[t._v(t._s(e.name))]),n("div",{staticClass:"price_box"},[n("span",{staticClass:"amount"},[t._v(t._s(e.price))]),n("span",{directives:[{name:"show",rawName:"v-show",value:"-"!==e.price,expression:"item.price !== '-'"}],staticClass:"unit"},[t._v(t._s(t.$t(t.$m.priceUnit)))])])])],1)])})),0)])],1)}),[],!1,null,"91cee5a6",null).exports},props:{post:{type:Object,default:function(){return{}}},showFollowingButton:{type:Boolean,default:!1}},data:function(){return{comments:this.post.comments,commentCount:this.post.commentCount,nextCursor:null}},computed:{hasComments:function(){return this.comments&&this.comments.length>0},slicedComments:function(){return(this.comments||[]).slice(0,2)}},methods:{loadComments:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.comments=t.comments,e.nextCursor=t.next_cursor;case 2:case"end":return n.stop()}}),n)})))()},loadPastReplyComments:function(t,cursor){var e=this;l.$social.loadPastReplyComments({commentId:t,cursor:cursor}).then((function(n){var o=e.comments.filter((function(e){return e.id===t}))[0];o.comments=n.concat(o.comments)}))},loadMoreComments:function(t,cursor){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.$social.loadMoreComments({postId:t,cursor:cursor});case 3:o=n.sent,e.comments=e.comments.concat(o.comments),e.nextCursor=o.next_cursor,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),e.$toast({content:"찾을 수 없는 게시물입니다.",type:M.ToastType.error});case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},writeComment:function(t,text){var e=this;this.$lodash.isEmpty(null==text?void 0:text.trim())||l.$social.writeComment({postId:t,text:text}).then((function(t){var n=t.comment;e.comments=[n].concat(Object(o.a)(e.comments)),e.commentCount+=1}))},writeReply:function(t,text){var e=this;l.$social.writeReply({commentId:t,text:text}).then((function(n){var r=n.comment;e.comments=e.comments.map((function(e){return e.id===t?Object.assign({},e,{comments:[].concat(Object(o.a)(e.comments),[r]),commentCount:e.commentCount+1}):e})),e.commentCount+=1}))},deleteComment:function(t,e,n){var o=this;l.$social.deleteComment({commentId:t}).then((function(){var r;if(e){var l=o.comments.filter((function(t){return t.id===n}))[0];l.comments=l.comments.filter((function(e){return e.id!==t})),l.commentCount=l.commentCount-1,l.replyId=l.comments.length>0?l.comments[0].id:t,o.commentCount=o.commentCount-1}else{var c=null===(r=o.comments)||void 0===r?void 0:r.find((function(e){return e.id===t}));o.comments=o.comments.filter((function(t){return t.id!==c.id})),c&&c.commentCount>0?o.commentCount=o.commentCount-(c[0].commentCount+1):o.commentCount=o.commentCount-1}}))},updateUserFollowingState:function(t,e){this.$emit("updateUserFollowingState",t,e)},likeComment:function(t){var e=this,n=t.id,o=t.isLiked,r=t.count;t.isReply?this.comments.forEach((function(t,l){t.comments.some((function(t){return t.id===n}))&&(e.comments[l].comments=e.setComment(e.comments[l].comments,n,o,r))})):this.comments=this.setComment(this.comments,n,o,r)},setComment:function(t,e,n,o){return t.map((function(t){return t.id===e?Object.assign({},t,{isLiked:n,likeCount:o}):t}))}}}),jt=(n(2356),Object(m.a)(It,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["social_post_detail",{empty_comments:!t.hasComments}],attrs:{id:"p"+t.post.id}},[n("SocialUserState",{attrs:{item:t.post.socialUser,"show-following-button":t.showFollowingButton},on:{updateUserFollowingState:t.updateUserFollowingState}}),n("SocialImageBox",{attrs:{images:t.post.images}}),t.$lodash.isEmpty(t.post.taggedProducts)?t._e():n("SocialTaggedProduct",{attrs:{"product-data":t.post.taggedProducts}}),n("SocialContents",{attrs:{post:t.post,comments:t.comments,"sliced-comments":t.slicedComments,"comment-count":t.commentCount,"next-cursor":t.nextCursor},on:{loadComments:t.loadComments,loadPastReplyComments:t.loadPastReplyComments,loadMoreComments:t.loadMoreComments,writeComment:t.writeComment,writeReply:t.writeReply,deleteComment:t.deleteComment,likeComment:t.likeComment}})],1)}),[],!1,null,"15938e94",null));e.a=jt.exports},1146:function(t,e,n){"use strict";n(965)},1147:function(t,e,n){"use strict";var o=n(2),r=(n(22),n(218),n(799)),l=n(5),c=n(61),m=n(41);e.a={data:function(){return{likeCount:this.item?this.item.likeCount:0,isLiked:!!this.item&&this.item.isLiked}},computed:{iconPostLike:function(){return this.isLiked?"social-like-on":"social-like"},iconSmLike:function(){return this.item.isLiked?"social-like-gray-sm-on":"social-like-gray-sm"}},props:{item:{type:Object,default:function(){}},id:{type:Number}},methods:{likePost:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$loggedIn(t.$auth)){e.next=3;break}return t.$router.push("/login"),e.abrupt("return");case 3:return e.prev=3,e.next=6,Object(r.x)("posts",t.id,!t.isLiked);case 6:n=e.sent,o=n.count,t.$emit("like",{id:t.id,isLiked:!t.isLiked,count:o}),t.likeCount=o,t.isLiked=!t.isLiked,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),(null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d||null===(h=d.data)||void 0===h?void 0:h.code)===l.b.SERVER_ERROR&&Object(c.d)({content:e.t0.response.data.message,type:m.ToastType.error});case 16:case"end":return e.stop()}}),e,null,[[3,13]])})))()},likeComment:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$loggedIn(t.$auth)){e.next=3;break}return t.$router.push("/login"),e.abrupt("return");case 3:return e.prev=3,e.next=6,Object(r.x)("comments",t.id,!t.item.isLiked);case 6:n=e.sent,o=n.count,t.$emit("like",{id:t.id,isLiked:!t.item.isLiked,count:o,isReply:t.reply}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),(null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d||null===(h=d.data)||void 0===h?void 0:h.code)===l.b.SERVER_ERROR&&Object(c.d)({content:e.t0.response.data.message,type:m.ToastType.error});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))()},clickComment:function(){this.$loggedIn(this.$auth)?this.$emit("showLayerComments"):this.$router.push("/login")}}}},1227:function(t,e,n){},1228:function(t,e,n){},1479:function(t,e,n){"use strict";var o=n(2),r=(n(22),n(799)),l={props:{isFollowing:{type:Boolean,default:!1},isFollowedBy:{type:Boolean,default:!1},userId:{type:String,default:""},size:{type:String,default:"medium"}},computed:{style:function(){return this.isFollowing?"outlinegrey":"solid"},message:function(){return this.isFollowing?this.$t(this.$m.socialFollowing):this.isFollowedBy?this.$t(this.$m.socialMutualFollowing):this.$t(this.$m.socialFollow)}},methods:{switchFollow:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$loggedIn(t.$auth)){e.next=3;break}return t.$router.push("/login"),e.abrupt("return");case 3:return n=!t.isFollowing,e.prev=4,e.next=7,Object(r.k)(t.userId,n);case 7:t.$emit("updateUserFollowingState",t.userId,n),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}}),e,null,[[4,10]])})))()}}},c=(n(1555),n(64)),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("BaseButton",{class:["btn_follow",t.size],attrs:{size:t.size,"style-type":t.style},on:{onClick:t.switchFollow}},[t._v(" "+t._s(t.message)+" ")])}),[],!1,null,"7611bfce",null);e.a=component.exports;installComponents(component,{BaseButton:n(461).default})},1555:function(t,e,n){"use strict";n(1227)},1556:function(t,e,n){"use strict";n(1228)},1622:function(t,e,n){"use strict";var o=n(836),r=n(1479),l={components:{ListLoading:o.a,SocialFollowButton:r.a},props:{list:{type:Array,default:function(){return[]}},hasNext:{type:Boolean,default:!1}},data:function(){return{loading:!1}},computed:{showEmpty:function(){return 0===this.list.length}},watch:{list:function(){this.loading=!1}},mounted:function(){var t=this.$refs.list;t&&t.addEventListener("scroll",this.scroll)},methods:{updateUserFollowingState:function(t,e){this.$emit("updateUserFollowingState",t,e)},scroll:function(){var t=this.$refs.list;this.$isMobile(this.$mq)?t.scrollTop+t.clientHeight>=window.pageYOffset&&this.loadMore():t.scrollTop+t.clientHeight>=t.scrollHeight&&this.loadMore()},canFollow:function(t){return!this.$auth.user||this.$auth.user&&"".concat(this.$auth.user.id)!==t},moveToUser:function(t){this.$router.push("/social/users/".concat(t))},loadMore:function(){var t=this;!this.loading&&this.hasNext&&(this.loading=!0,this.$nextTick((function(){t.$emit("showMore")})))}}},c=(n(1556),n(64)),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user_list_content"},[n("ul",{ref:"list",staticClass:"user_list"},[t._l(t.list,(function(e){return n("li",{key:e.id,staticClass:"user_item"},[n("div",{staticClass:"user_box"},[n("a",{staticClass:"user_link",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.moveToUser(e.username)}}},[n("div",{staticClass:"img_box"},[n("img",{staticClass:"profile_img",attrs:{src:e.imgURL,alt:"KREAM 프로필 이미지"}})]),n("div",{staticClass:"info_box"},[n("span",{class:["user_name",{is_official:e.isVerified}]},[n("span",{staticClass:"user_name_text"},[t._v(t._s(e.id))])]),n("span",{staticClass:"user_subname"},[t._v(t._s(t.$lodash.unescape(e.displayName)))])])]),n("div",{staticClass:"user_box_follow"},[t.canFollow(e.userId)?n("SocialFollowButton",{attrs:{"is-following":e.isFollowing,"user-id":e.userId,"is-followed-by":e.isFollowedBy,size:"small"},on:{updateUserFollowingState:t.updateUserFollowingState}}):t._e()],1)])])})),n("ListLoading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]})],2),t.showEmpty?t._t("empty"):t._e()],2)}),[],!1,null,"754300ce",null);e.a=component.exports},1848:function(t,e,n){},1849:function(t,e,n){},1850:function(t,e,n){},1851:function(t,e,n){},1852:function(t,e,n){},1853:function(t,e,n){},1854:function(t,e,n){},1855:function(t,e,n){},1856:function(t,e,n){},1857:function(t,e,n){},1858:function(t,e,n){},1859:function(t,e,n){},1860:function(t,e,n){},1861:function(t,e,n){},1862:function(t,e,n){},1863:function(t,e,n){},1864:function(t,e,n){},1865:function(t,e,n){},2339:function(t,e,n){"use strict";n(1848)},2340:function(t,e,n){"use strict";n(1849)},2341:function(t,e,n){"use strict";n(1850)},2342:function(t,e,n){"use strict";n(1851)},2343:function(t,e,n){"use strict";n(1852)},2344:function(t,e,n){"use strict";n(1853)},2345:function(t,e,n){"use strict";n(1854)},2346:function(t,e,n){"use strict";n(1855)},2347:function(t,e,n){"use strict";n(1856)},2348:function(t,e,n){"use strict";n(1857)},2349:function(t,e,n){"use strict";n(1858)},2350:function(t,e,n){"use strict";n(1859)},2351:function(t,e,n){"use strict";n(1860)},2352:function(t,e,n){"use strict";n(1861)},2353:function(t,e,n){"use strict";n(1862)},2354:function(t,e,n){"use strict";n(1863)},2355:function(t,e,n){"use strict";n(1864)},2356:function(t,e,n){"use strict";n(1865)},800:function(t,e,n){},801:function(t,e,n){(function(e){const o=n(805),path=n(463),r=n(808);function l(t){console.log(`[dotenv][DEBUG] ${t}`)}const c=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,m=/\\n/g,d=/\r\n|\n|\r/;function h(t,e){const n=Boolean(e&&e.debug),o={};return t.toString().split(d).forEach((function(line,t){const e=line.match(c);if(null!=e){const t=e[1];let n=e[2]||"";const r=n.length-1,l='"'===n[0]&&'"'===n[r];"'"===n[0]&&"'"===n[r]||l?(n=n.substring(1,r),l&&(n=n.replace(m,"\n"))):n=n.trim(),o[t]=n}else n&&l(`did not match key and value when parsing line ${t+1}: ${line}`)})),o}t.exports.config=function(t){let n=path.resolve(e.cwd(),".env"),c="utf8",m=!1;var d;t&&(null!=t.path&&(n="~"===(d=t.path)[0]?path.join(r.homedir(),d.slice(1)):d),null!=t.encoding&&(c=t.encoding),null!=t.debug&&(m=!0));try{const t=h(o.readFileSync(n,{encoding:c}),{debug:m});return Object.keys(t).forEach((function(n){Object.prototype.hasOwnProperty.call(e.env,n)?m&&l(`"${n}" is already defined in \`process.env\` and will not be overwritten`):e.env[n]=t[n]})),{parsed:t}}catch(t){return{error:t}}},t.exports.parse=h}).call(this,n(65))},803:function(t,e,n){"use strict";n.r(e);var o={props:{alt:{type:String},url:{type:String},type:{type:String},mediaType:{type:Object}},data:function(){return{breakpointWidth:{lg:960,md:769,mo:450,sm:0},breakpoints:["lg","md","mo","sm"]}}},r=(n(807),n(64)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("picture",{staticClass:"picture"},[t.mediaType?t._l(t.breakpoints,(function(e,o){return n("source",{key:"webp"+o,attrs:{type:"image/webp",srcset:t.$resizeImage(t.url,t.mediaType[e]||t.type)+"_webp",media:"(min-width: "+t.breakpointWidth[e]+"px)"}})})):n("source",{attrs:{type:"image/webp",srcset:t.$resizeImage(t.url,t.type)+"_webp"}}),t.mediaType?t._l(t.breakpoints,(function(e,o){return n("source",{key:o,attrs:{srcset:t.$resizeImage(t.url,t.mediaType[e]||t.type),media:"(min-width: "+t.breakpointWidth[e]+"px)"}})})):n("source",{attrs:{srcset:t.$resizeImage(t.url,t.type)}}),n("img",{staticClass:"image",attrs:{alt:t.alt,src:t.$resizeImage(t.url,t.type)}})],2)}),[],!1,null,"548c90f9",null);e.default=component.exports},804:function(t,e,n){"use strict";var o={props:{item:{type:Object},sortClass:{type:String,default:null},sortValue:{type:String,default:null},date:{type:String,default:null},displayType:{type:String,default:""},imageSize:{type:String,default:"m"},hasStockedMark:{type:Boolean,default:!1},isFlat:{type:Boolean,default:!1},isExclusive:{type:Boolean,default:!1}},computed:{imageUrl:function(){return this.$lodash.isEmpty(this.item.image_url)?"/images/common_thumbs_blank_L.png":this.item.image_url},bgColor:function(){return this.$lodash.isEmpty(this.item.background_color)?"#f2f2f2":this.item.background_color}},methods:{}},r=(n(816),n(64)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["product",{is_flat:t.isFlat},{is_exclusive:t.isExclusive}],style:{backgroundColor:""+t.bgColor}},[n("BaseImage",{staticClass:"product_img",attrs:{alt:t.item.name||"상품 이미지",url:t.imageUrl,type:t.imageSize}}),t.sortValue?n("div",{class:["status_value",t.sortClass]},[t._v(" "+t._s(("premium_up"===t.sortClass?"+":"")+t.sortValue)+" ")]):t._e(),"C"==t.displayType?n("div",{staticClass:"product_date"},[n("p",{staticClass:"month"},[n("em",[t._v(t._s(t._f("formatMonth")(t.date))+" ")]),t._v("월 ")]),n("p",{staticClass:"day"},[t._v(t._s(t._f("formatDate")(t.date)))])]):t._e(),t.hasStockedMark?n("em",{staticClass:"stocked_status_mark"},[t._v(" 95점 ")]):t._e(),t._t("innerText")],2)}),[],!1,null,"75e33658",null);e.a=component.exports;installComponents(component,{BaseImage:n(803).default})},805:function(t,e){},806:function(t,e,n){},807:function(t,e,n){"use strict";n(800)},808:function(t,e){e.endianness=function(){return"LE"},e.hostname=function(){return"undefined"!=typeof location?location.hostname:""},e.loadavg=function(){return[]},e.uptime=function(){return 0},e.freemem=function(){return Number.MAX_VALUE},e.totalmem=function(){return Number.MAX_VALUE},e.cpus=function(){return[]},e.type=function(){return"Browser"},e.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},e.networkInterfaces=e.getNetworkInterfaces=function(){return{}},e.arch=function(){return"javascript"},e.platform=function(){return"browser"},e.tmpdir=e.tmpDir=function(){return"/tmp"},e.EOL="\n",e.homedir=function(){return"/"}},816:function(t,e,n){"use strict";n(806)},818:function(t,e,n){"use strict";n(43),n(44);e.a={computed:{os:function(){return this.$ua.isFromAndroidOs()?"aos":this.$ua.isFromIos()?"ios":this.$ua.os().toLowerCase().includes("windows")?"win_os":"etc"},isNotSupportedBrowser:function(){return this.$isNotSupportedBrowser(this.$ua._parsed)},isInAppBrowser:function(){return this.$isInAppBrowser(this.$ua)}}}},823:function(t,e,n){t.exports=n.p+"img/loading.410eb77.gif"},834:function(t,e,n){"use strict";n.d(e,"e",(function(){return f})),n.d(e,"f",(function(){return y})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return v})),n.d(e,"a",(function(){return w})),n.d(e,"d",(function(){return k}));var o=n(20),r=(n(42),n(26),n(86),n(23),n(98),n(11),n(100),n(51),n(43),n(44),n(873),n(943)),l=n(798),c=n(56),m=n(10),d=n(97),h=n(6),f=function(t){var e=/([\w_]+)\[?(desc|asc)?\]?/;return t.split(",").map((function(t){if(e.test(t)){var n=e.exec(t),r=Object(o.a)(n,3),l=r[1],c=r[2];return{field:l,order:void 0===c?"":c}}return{}}))},y=function(t,e){return"".concat(t,"[").concat(e,"]")},C=function(t){var e=t.value,n=t.regex,o=t.filterList,r=t.hasLink,l=void 0===r||r,m=t.className,d=void 0===m?"":m,h=!!o,f=e.split(n);return 1===f.length&&e===f[0]?f[0]:f.map((function(text){var filter=h&&o.find((function(filter){return filter.text===text}));if(filter||!h&&n.test(text)){var link=filter&&Object(c.i)(filter.web_url)?filter.web_url:"",t=l&&link?"a":"span",e=l&&link?'href="'.concat(link,'"'):"";return"<".concat(t,' class="').concat(d,'" ').concat(e,">")+text+"</".concat(t,">")}return text})).join("")},_=function(t,e,n){return C({value:C({value:t,hasLink:n,regex:/((?:#)(?:_|[^\s#?,.<>;':"`~!@#$%-\^\&\*\(\)\+)]|[A-Za-z0-9]){1,50})/g,filterList:e,className:"hashtag"}),hasLink:n,regex:/((?:@)(?:[A-Za-z0-9_](?:(?:[A-Za-z0-9_]|(?:\.(?!\.))){0,23}(?:[A-Za-z0-9_]))?))/g,filterList:e,className:"reply_user_name"})},v=function(){var template=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.reduce((function(text,t){var e=t.is_bold?"em":t.is_italic?"i":"",n=e&&"<".concat(e,">"),o=e&&"</".concat(e,">");return text.replace(t.key,"".concat(n).concat(t.text).concat(o))}),template)},w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(n===d.k.countdown)return Math.max(0,Object(r.a)(Object(l.a)(t,"Asia/Seoul"),Object(l.a)(new Date,"Asia/Seoul")));if(n===d.k.datetime)return Object(m.j)(t,"yy/MM/dd HH:mm");if(n===d.k.date)return Object(m.j)(t,"yy/MM/dd");if(n===d.k.price_fluctuation){var o=t.includes("+")?h.i.INCREASE:"-"===t?h.i.SAME:h.i.DECREASE;return'<span class="fluctuation '.concat(o,'">\n            ').concat(o===h.i.SAME?t:Object(m.l)(t.replace(/\D/,"")),"\n          </span>")}return e.reduce((function(text,t){var e=t.is_bold?"em":t.is_italic?"i":"",n=e&&"<".concat(e,">"),o=e&&"</".concat(e,">");return text.replace(t.key,"".concat(n).concat(t.text).concat(o))}),t)},k=function(t){try{return 1*t.replace(/,/g,"")}catch(t){return null}}},836:function(t,e,n){"use strict";var o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list_loading"},[e("img",{staticClass:"loading_img",attrs:{src:n(823),alt:"리스트 로딩중입니다."}})])}],r={},l=(n(904),n(64)),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),o,!1,null,"538d2574",null);e.a=component.exports},839:function(t,e,n){},873:function(t,e,n){var o=n(874);t.exports=o},874:function(t,e,n){n(302),n(90),n(26),n(875),n(876),n(877),n(148),n(51),n(298),n(86)},875:function(t,e,n){var o=n(55),r=n(62),l=n(175),c=n(299).UNSUPPORTED_Y;o&&("g"!=/./g.flags||c)&&r.f(RegExp.prototype,"flags",{configurable:!0,get:l})},876:function(t,e,n){var o=n(55),r=n(299).UNSUPPORTED_Y,l=n(62).f,c=n(102).get,m=RegExp.prototype;o&&r&&l(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==m){if(this instanceof RegExp)return!!c(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}})},877:function(t,e,n){"use strict";n(26);var o,r,l=n(12),c=n(45),m=(o=!1,(r=/[ac]/).exec=function(){return o=!0,/./.exec.apply(this,arguments)},!0===r.test("abc")&&o),d=/./.test;l({target:"RegExp",proto:!0,forced:!m},{test:function(t){if("function"!=typeof this.exec)return d.call(this,t);var e=this.exec(t);if(null!==e&&!c(e))throw new Error("RegExp exec method returned something other than an Object or null");return!!e}})},904:function(t,e,n){"use strict";n(839)},932:function(t,e,n){"use strict";var o=n(54),r="social-user-big",l="social-tag-big",c="social-camera-big",m="feed-review",d="feed-review-gray",h="social-like-big",f={props:{type:{type:String,default:""},tag:{type:String,default:""},emptyUserName:{type:String,default:""}},computed:{isMyProfile:function(){return this.$auth.loggedIn&&this.$auth.user&&this.$auth.user.username===this.emptyUserName},emptyTexts:function(){switch(this.type.toLowerCase()){case o.f.FOLLOWER:return{icon:r,title:this.$t(this.$m.socialFollower),description:this.$t(this.$m.socialEmptyTextFollow,[this.isMyProfile?this.$t(this.$m.socialMe):"".concat(this.emptyUserName,"님을")]),btn:"인기글 보기",btnLink:"/social/trending"};case o.f.FOLLOWING:return{icon:r,title:this.$t(this.$m.socialFollowing),description:this.$t(this.$m.socialEmptyTextFollow,[this.isMyProfile?this.$t(this.$m.socialI):"".concat(this.emptyUserName,"님이")]),btn:"인기글 보기",btnLink:"/social/trending"};case o.f.USER_FEED:return{icon:c,title:this.$t(this.$m.socialPostEmpty),description:this.isMyProfile?this.$t(this.$m.socialEmptyMyFeed):this.$t(this.$m.socialEmptyOtherFeed,[this.emptyUserName]),btn:this.isMyProfile&&this.$isMobile(this.$mq)?this.$t(this.$m.socialUploadFirstPost):""};case o.f.INVALID_USER:return{description:this.$t(this.$m.socialEmptyUser)};case o.f.REIVEW:return{icon:m,description:this.$t(this.$m.socialEmptyStyleReview)};case o.f.REVIEW_FEED:return{icon:d,title:this.$t(this.$m.socialPostEmpty),description:this.$t(this.$m.socialEmptyStyleReview)};case o.f.FOLLOWING_FEED:return{icon:r,title:this.$t(this.$m.socialFollowing),description:this.$t(this.$m.socialEmptyMyFollowingFeed),btn:"인기글 보기",btnLink:"/social/trending"};case o.f.TAG:return{icon:l,title:this.tag,description:this.$t(this.$m.socialEmptyTagFeed),btn:this.$isMobile(this.$mq)?this.$t(this.$m.socialUploadFirstPost):""};case o.f.POPULAR:return{icon:h,title:this.$t(this.$m.socialPopular),description:this.$t(this.$m.socialEmptyPopularFeed)};case o.f.NEWEST:return{icon:c,title:this.$t(this.$m.socialNewest),description:this.$t(this.$m.socialEmptyNewestFeed)}}return{}}},methods:{clickBtn:function(){this.emptyTexts.btnLink?this.$router.push(this.emptyTexts.btnLink):this.$emit("clickBtn")}}},y=(n(1146),n(64)),component=Object(y.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"social_feeds_empty"},[n("div",{staticClass:"empty_box"},[t.emptyTexts.icon?n("svg-icon",{staticClass:"empty_icon",attrs:{name:t.emptyTexts.icon}}):t._e(),t.emptyTexts.title?n("strong",{staticClass:"empty_title"},[t._v(t._s(t.emptyTexts.title))]):t._e(),n("p",{staticClass:"empty_txt"},[t._v(t._s(t.emptyTexts.description))]),t.emptyTexts.btn?n("BaseButton",{attrs:{"style-type":"outline",size:"small"},on:{onClick:t.clickBtn}},[t._v(" "+t._s(t.emptyTexts.btn)+" ")]):t._e()],1)])}),[],!1,null,"45fa91b1",null);e.a=component.exports;installComponents(component,{BaseButton:n(461).default})},943:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o=n(31),r=n(14);function l(t,e){return Object(r.a)(2,arguments),Object(o.a)(t).getTime()-Object(o.a)(e).getTime()}},965:function(t,e,n){}}]);