(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{1964:function(t,e,n){},1965:function(t,e,n){},1966:function(t,e,n){},1967:function(t,e,n){},2455:function(t,e,n){"use strict";n(1964)},2456:function(t,e,n){"use strict";n(1965)},2457:function(t,e,n){"use strict";n(1966)},2458:function(t,e,n){"use strict";n(1967)},2529:function(t,e,n){"use strict";n.r(e);n(27),n(21),n(33),n(39),n(46);var r=n(13),o=n(19),c=n(2),l=(n(22),n(32),n(71),n(26),n(86),n(23),n(42),n(11),n(149),n(4)),d=n(7),_={props:{item:{type:Object,default:function(){return{imageUrl:"",backgroundColor:"#fff"}}}},data:function(){return{drawInfo:{spotTitle:"2021년 새해맞이 릴레이 럭키 드로우",detail:[{detailTitle:"응모대상",detailDesc:[{descTxt:"KREAM에 가입하신 모든 분들"},{descTxt:"본인인증 회원만 가능"}]},{detailTitle:"드로우 일정",detailDesc:[{descTxt:"12월 매주 목,금 오후 12:00 - 오후 4:00"},{descTxt:"12월 3-4, 10-11, 17-18, 24-25일"}]},{detailTitle:"당첨자 발표",detailDesc:[{descTxt:"드로우 다음주 월요일 오후 6:00"},{descTxt:"12월 7,14,21,28일"},{descTxt:"공지사항 게시 및 당첨자에게 메시지 전송"}]}]}}}},f=(n(2455),n(64)),m=Object(f.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spot",style:{backgroundColor:""+t.item.backgroundColor}},[n("div",{staticClass:"img_container"},[n("img",{staticClass:"img_info",attrs:{src:t.item.imageUrl}})])])}),[],!1,null,"f1c288c8",null).exports,v=n(425),h=n(791),y=n(422),w=n(300),O=n(10),C=n(296),k={filters:{formatEventDate:function(t){return Object(O.j)(t,"yyyy/MM/dd")},formatDayOfWeek:function(t){return Object(O.j)(t,"cccc",{locale:y.a})},currencyFormatWithSymbol:function(t){return Object(O.g)(t)}},props:{item:{type:Object,default:function(){return{title:"",events:[]}}}},computed:{isDual:function(){return 1!==this.item.events.length}},methods:{moveDrawDetail:function(t){this.$isMobile(this.$mq)?t.event_type===w.c.drop?Object(C.f)(this.$ua,t.product_id):t.started&&t.finished?t.drawed&&t.draw_result_url&&(window.location.href=t.draw_result_url):Object(C.d)(this.$ua,t.product_id):this.$router.push("/products/".concat(t.product_id))},isOneDayEvent:function(t){var e=t.date_started,n=t.date_finished;return Object(v.a)(Object(h.a)(e),Object(h.a)(n))},buttonTitleOf:function(t){return t.finished?t.drawed&&t.draw_result_url?this.$t(this.$m.eventResult):this.$t(this.$m.eventFinished):t.started?t.event_type===w.c.draw?this.$t(this.$m.eventStartedDraw):this.$t(this.$m.eventStartedDrop):this.$t(this.$m.eventReady)}}},j=(n(2456),Object(f.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"draw_grid"},[n("h3",{staticClass:"grid_title"},[t._v(" "+t._s(t.item.title)+" ")]),n("div",{staticClass:"grid_content"},[n("div",{class:["grid_list",{dual:t.isDual}]},t._l(t.item.events,(function(e){return n("div",{key:e.id,class:["grid_item",e.event_type],on:{click:function(n){return n.preventDefault(),t.moveDrawDetail(e)}}},[n("div",{staticClass:"product_area",style:{backgroundColor:""+(!t.isDual&&(e.bgcolor||e.product_background_color))}},[n("div",{staticClass:"product_inner"},[n("div",{staticClass:"product"},[n("img",{staticClass:"product_img",attrs:{src:e.product_image_url+"?type=l",alt:e.product_translated_name}})])])]),n("div",{staticClass:"info_area"},[n("div",{staticClass:"info_inner"},[t.isOneDayEvent(e)?n("div",{staticClass:"date_bind"},[n("span",{staticClass:"date"},[t._v(t._s(t._f("formatEventDate")(e.date_started)))]),n("span",{staticClass:"day"},[t._v(t._s(t._f("formatDayOfWeek")(e.date_started)))])]):t._e(),n("p",{staticClass:"name"},[t._v(t._s(e.product_translated_name))]),n("div",{staticClass:"price_bind"},[n("span",{staticClass:"people"},[t._v(t._s(e.winner_count))]),e.original_product_recent_price?n("span",{staticClass:"product_price"},[t._v(t._s(t._f("formatNumber")(e.original_product_recent_price)))]):t._e(),e.price>0?n("span",{staticClass:"draw_price"},[n("span",{staticClass:"amount"},[t._v(t._s(t._f("currencyFormatWithSymbol")(e.price)))])]):t._e()])]),t.isDual?t._e():n("div",{staticClass:"btn_area"},[n("a",{class:["btn_draw",{is_active:e.started},{is_closed:e.finished},{has_result_url:e.drawed&&e.draw_result_url}],attrs:{href:"#"}},[t._v(" "+t._s(t.buttonTitleOf(e))+" ")])])]),t.isDual?n("div",{staticClass:"btn_area btn_dual"},[n("a",{class:["btn_draw",e.event_type,{is_active:e.started},{is_closed:e.finished},{has_result_url:e.drawed&&e.draw_result_url}],attrs:{href:"#"}},[t._v(" "+t._s(t.buttonTitleOf(e))+" ")])]):t._e()])})),0)])])}),[],!1,null,"4e780808",null).exports),D={props:{outlinkButton:{type:Object,default:function(){}}}},$=Object(f.a)(D,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.outlinkButton?n("a",{staticClass:"btn_outlink",style:{backgroundColor:""+t.outlinkButton.bgcolor,color:""+t.outlinkButton.color},attrs:{href:t.$isInAppBrowser(t.$ua)?t.outlinkButton.url:t.outlinkButton.web_url||t.outlinkButton.url}},[n("span",{staticClass:"btn_txt"},[t._v(t._s(t.outlinkButton.title))])]):t._e()}),[],!1,null,null,null).exports,B={props:{item:{type:Array,default:function(){return[]}},type:{type:String,default:"draw"}},computed:{hasWarnings:function(){return this.item.some((function(t){return t.length>0}))}}},E=(n(2457),Object(f.a)(B,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasWarnings?n("div",{class:["warning",t.type]},[n("h3",{staticClass:"warning_title"},[t._v(" "+t._s(t.$t(t.$m.eventWarnings))+" ")]),n("ul",{staticClass:"warning_list"},t._l(t.item,(function(e,r){return n("li",{key:r,staticClass:"warning_item"},[t._v(" "+t._s(e)+" ")])})),0)]):t._e()}),[],!1,null,"4f6fa974",null).exports);function T(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function x(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var P=l.default.extend({components:{DrawTop:m,DrawGrid:j,OutLinkButton:$,Warning:E},layout:"search",asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var n,r,c,l,_,title,f,m,v,h,y,w,O,C,k,j,D,$;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params,r=t.error,e.prev=1,e.next=4,d.a.get("/api/e/promotions/".concat(n.id));case 4:return c=e.sent,l=c.data,_=l.type,title=l.title,f=l.description,m=l.warning,v=l.main_image_url,h=l.main_background_color,y=l.share_image_url,w=l.promotion_event_groups,O=l.additional_images,C=void 0===O?[]:O,k=l.additional_sections,j=void 0===k?[]:k,D=l.outlink_button,$=l.top_outlink_button,e.abrupt("return",{type:_,title:title,description:f,warnings:m.split("\n"),top:{imageUrl:v,backgroundColor:h},shareImageUrl:y,eventGroups:w,additionalSections:[].concat(Object(o.a)(C.map((function(image){return x(x({},image),{},{type:"image"})}))),Object(o.a)(j)),outlinkButton:D,topOutlinkButton:$});case 23:e.prev=23,e.t0=e.catch(1),r({statusCode:404});case 26:case"end":return e.stop()}}),e,null,[[1,23]])})))()},data:function(){return{type:"draw",title:"이벤트",description:"",top:{},shareImageUrl:"",eventGroups:[],warnings:[],additionalSections:[],outlinkButton:void 0,topOutlinkButton:void 0}},head:function(){return{title:this.title&&"".concat(this.title," | KREAM"),meta:[{hid:"description",name:"description",content:this.description},{hid:"og:url",property:"og:url",content:"https://kream.co.kr".concat(this.$route.fullPath)},{hid:"og:title",property:"og:title",content:this.title&&"".concat(this.title," | KREAM")},{hid:"og:description",property:"og:description",content:this.description},{hid:"og:image",property:"og:image",content:this.shareImageUrl||this.top.imageUrl}]}},computed:{sortedEventGroups:function(){var t=this.eventGroups.map((function(t){return Object.assign({},t,{isAllFinished:t.events.every((function(t){return t.finished}))})}));return t.sort((function(a,b){return a.isAllFinished-b.isAllFinished})),t}},methods:{sharePromotion:function(){var input=this.$refs.input;input.value=document.location.href,input.select(),document.execCommand("copy"),this.$toast({content:"URL이 복사되었습니다!"})}}}),S=(n(2458),Object(f.a)(P,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["container","promotion",t.$mq]},[n("DrawTop",{attrs:{item:t.top}}),t._l(t.additionalSections,(function(section,e){return n("div",{key:e},["image"===section.type?n("DrawTop",{attrs:{item:{imageUrl:section.url,backgroundColor:section.bgcolor}}}):t._e(),"youtube"===section.type?n("div",{staticClass:"youtube",style:{backgroundColor:section.bgcolor}},[n("div",{staticClass:"player"},[n("div",{staticClass:"player_container"},[n("iframe",{staticClass:"iframe",attrs:{src:section.url,allowfullscreen:"",frameborder:"0",allow:"accelerometer; encrypted-media"}})])])]):t._e()],1)})),n("div",{staticClass:"content"},[n("OutLinkButton",{attrs:{"outlink-button":t.topOutlinkButton}}),t.$lodash.isEmpty(t.sortedEventGroups)?t._e():n("div",{staticClass:"draw_wrap"},t._l(t.sortedEventGroups,(function(t){return n("DrawGrid",{key:t.title,attrs:{item:t}})})),1),n("Warning",{attrs:{item:t.warnings,type:t.type}}),n("OutLinkButton",{attrs:{"outlink-button":t.outlinkButton}}),n("a",{staticClass:"btn_share",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.sharePromotion.apply(null,arguments)}}},[n("svg-icon",{staticClass:"ico-share",attrs:{name:"ico-share"}}),t._v(t._s(t.$t(t.$m.sharePageToFriends))+" ")],1),n("input",{ref:"input",staticClass:"hidden_input",attrs:{readonly:""}})],1)],2)}),[],!1,null,null,null));e.default=S.exports}}]);