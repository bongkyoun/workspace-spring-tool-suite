<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>방명록 관리</title>
<link rel=stylesheet href="css/styles.css" type="text/css">
<link rel=stylesheet href="css/guest.css" type="text/css">
<link rel="icon" href="image/favicon-32x32.png">
<style type="text/css" media="screen">
</style>

<script type="text/javascript" src="js/guest_html_content.js"></script>
<script type="text/javascript" src="js/GuestService.js"></script>
<script type="text/javascript">
		/*************template literal(es6)***************/
		var name='김경호';
		var age=34;
		
		var html=`저의 이름은 ${name}  이고 나이는 ${age} 살 입니다`;
		console.log(html);
		
</script>
<script type="text/javascript">
	
	window.addEventListener('load',function(){
	    var guestService = new GuestService();
	    /*
	    DOM Tree가 생성된후이벤트등록
	    */
	    /*############### event#################*/
	    /******guest_home******************/
	    document.querySelector('#menu_guest_home').addEventListener('click',function(e){
			document.querySelector('#content').innerHTML=guest_main_content();
			e.preventDefault();
	    });
	    document.querySelector('#menu_guest_write_form').addEventListener('click',function(e){
			document.querySelector('#content').innerHTML=guest_write_form_content();
			e.preventDefault();
	    });
	    document.querySelector('#menu_guest_list').addEventListener('click',function(e){
			/*
			guest/guest_list_json.jsp로 ajax요청
			*/
			
			var method='GET';
			var url='guest/guest_list_json.jsp';
			var param="guest_no=67";
			guestService.sendRequest(method,
										url,
										function(jsonResult){
			    						var guestArray = jsonResult.data;
			    						var html='';
			    						for (var i = 0; i < guestArray.length; i++) {
			    							var guest=guestArray[i];
			    							html+=`<tr class="guest_item">
					    								<td width="50" align="center" bgcolor="ffffff" height="20">124</td>
					    								<td width="300" bgcolor="ffffff" style="padding-left: 10">
					    									<a href="#" class="user" class="guest_item_a" guest_no="124">
					    									${guest.guest_title}
					    									</a>
					    								</td>
					    								<td width="120" align="center" bgcolor="ffffff">${guest.guest_name}</td>
					    								<td width="120" align="center" bgcolor="ffffff">${guest.guest_date}</td>
			    									</tr>`;
										}
											
			    							document.querySelector('#content').innerHTML=guest_list_content(html);
										},
										param);
			
			
			
			
			
	    });
	   
	    /*############### dynamic event#################*/
	    document.addEventListener('click',function(e){
			/************guest_list****************/
			/************guest_write_form****************/
			/******guest_detail****************/
			/******guest_write_action***********/
			/******guest_modify_form***********/
			/******guest_modify_action*********/
			/******guest_remove_action*********/
		 });
	    
	});
	
	
	




 
</script>
</head>
<body bgcolor=#FFFFFF text=#000000 leftmargin=0 topmargin=0
	marginwidth=0 marginheight=0>
	<!-- container start-->
	<div id="container">
		<!-- header start -->
		<div id="header">
			<!-- include_common_top.jsp start-->

			<h1>
				<a href="">방명록 JAVASCRIPT</a>
			</h1>
			<!-- include_common_top.jsp end-->
		</div>
		<!-- header end -->
		<!-- navigation start-->
		<div id="navigation">
			<!-- include_common_left.jsp start-->

			<p>
				<strong>메 뉴</strong>
			</p>
			<ul class="guest_menus">
				<li><a id="menu_guest_home" href="test.jsp">방명록홈</a></li>
				<li><a id="menu_guest_list" href="#">방명록리스트</a></li>
				<li><a id="menu_guest_write_form" href="#">방명록쓰기폼</a></li>

			</ul>
			<!-- include_common_left.jsp end-->
		</div>
		<!-- navigation end-->
		<!-- wrapper start -->
		<div id="wrapper">
			<!-- content start -->
			<!-- include_content.jsp start-->

			<div id="content">
				
			</div>
			<!-- include_content.jsp end-->
			<!-- content end -->
		</div>
		<!--wrapper end-->
		<div id="footer">
			<!-- include_common_bottom.jsp start-->

			<p align="center">Copyright (&copy;) By Kimkyoungho.[김경호] All
				rights reserved.</p>
			<!-- include_common_bottom.jsp end-->
		</div>
	</div>
	<!--container end-->
</body>
</html>